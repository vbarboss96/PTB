<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pitada Doce - Sistema Bakery v5</title>
    <style>
        :root { --rosa: #d63384; --dark: #2c3e50; --fundo: #f8f9fa; --danger: #e74c3c; --warning: #f1c40f; }
        body { font-family: 'Segoe UI', Arial, sans-serif; margin: 0; display: flex; height: 100vh; background: var(--fundo); }
        
        /* Menu Lateral */
        #sidebar { width: 220px; background: var(--dark); color: white; display: flex; flex-direction: column; flex-shrink: 0; }
        .logo { padding: 25px; text-align: center; font-weight: bold; background: var(--rosa); font-size: 1.2rem; }
        .nav-item { padding: 15px 25px; cursor: pointer; border-bottom: 1px solid #3e4f5f; transition: 0.2s; }
        .nav-item:hover, .nav-item.active { background: #3e4f5f; border-left: 5px solid var(--rosa); }

        /* √Årea de Conte√∫do */
        #content { flex: 1; padding: 30px; overflow-y: auto; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }

        /* Estilos de Cart√£o */
        .card { background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); margin-bottom: 25px; border: 1px solid #eee; }
        h2 { color: var(--dark); margin-top: 0; font-size: 1.3rem; border-bottom: 2px solid var(--fundo); padding-bottom: 10px; }
        
        .form-row { display: flex; gap: 15px; margin-bottom: 15px; flex-wrap: wrap; align-items: flex-end; }
        label { display: block; font-size: 0.8rem; font-weight: bold; margin-bottom: 5px; color: #666; }
        input, select { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; }
        
        button { cursor: pointer; border: none; border-radius: 8px; font-weight: bold; transition: 0.2s; }
        .btn-add { background: var(--rosa); color: white; padding: 12px 25px; width: 100%; }
        .btn-edit { background: var(--warning); color: #000; padding: 6px 12px; font-size: 0.75rem; }
        .btn-del { background: var(--danger); color: white; padding: 6px 12px; font-size: 0.75rem; }

        /* Tabela e Busca */
        #search-input { border: 2px solid #eee; margin-bottom: 10px; font-size: 1rem; }
        #search-input:focus { border-color: var(--rosa); outline: none; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th { text-align: left; padding: 12px; background: #f1f3f5; color: #495057; }
        td { padding: 12px; border-bottom: 1px solid #eee; font-size: 0.9rem; }
        
        /* Pagina√ß√£o */
        .pagination { display: flex; justify-content: center; align-items: center; gap: 15px; margin-top: 20px; }
        .page-btn { background: white; border: 1px solid #ddd; padding: 8px 16px; color: var(--dark); }
        .page-btn:disabled { opacity: 0.4; cursor: not-allowed; }

        .total-box { background: var(--dark); color: white; padding: 25px; border-radius: 12px; text-align: right; margin-top: 20px; font-size: 1.2rem; }
        .total-box b { color: var(--rosa); font-size: 1.8rem; }
    </style>
</head>
<body>

<div id="sidebar">
    <div class="logo">Pitada Doce üßÅ</div>
    <div class="nav-item active" id="menu-ing" onclick="switchTab('ingredientes')">üì¶ Ingredientes</div>
    <div class="nav-item" id="menu-rec" onclick="switchTab('receitas')">üéÇ Receitas</div>
</div>

<div id="content">

    <div id="tab-ingredientes" class="tab-content active">
        <div class="card">
            <h2 id="form-title">Gerenciar Insumos</h2>
            <input type="hidden" id="edit-id" value="-1">
            <div class="form-row">
                <div style="flex: 2;">
                    <label>Nome do Ingrediente</label>
                    <input type="text" id="in-nome">
                </div>
                <div style="flex: 1.2;">
                    <label>Valor de Compra</label>
                    <input type="text" id="in-preco" placeholder="R$ 0,00" oninput="maskBRL(this)">
                </div>
                <div style="flex: 0.8;">
                    <label>Peso/Qtd</label>
                    <input type="number" id="in-peso" step="any">
                </div>
                <div style="flex: 0.8;">
                    <label>Unidade</label>
                    <select id="in-unid">
                        <option value="g">g</option>
                        <option value="Kg">Kg</option>
                        <option value="ML">ML</option>
                        <option value="L">L</option>
                        <option value="Mg">Mg</option>
                        <option value="un">un</option>
                    </select>
                </div>
            </div>
            <button class="btn-add" id="btn-save" onclick="handleSave()">üíæ SALVAR INGREDIENTE</button>
            <button id="btn-cancel" style="display:none; width:100%; margin-top:10px; background:#ccc; padding:10px;" onclick="resetForm()">Cancelar Edi√ß√£o</button>
        </div>

        <div class="card">
            <label>üîé Pesquisar na lista</label>
            <input type="text" id="search-input" placeholder="Ex: a√ßucar, chocolate..." oninput="currentPage=1; renderIngs();">
            
            <table>
                <thead><tr><th>Nome</th><th>Pre√ßo</th><th>Medida</th><th>A√ß√µes</th></tr></thead>
                <tbody id="lista-corpo"></tbody>
            </table>

            <div class="pagination">
                <button class="page-btn" id="prevPage" onclick="changePage(-1)">‚óÄ Anterior</button>
                <span id="pageInfo">P√°gina 1</span>
                <button class="page-btn" id="nextPage" onclick="changePage(1)">Pr√≥ximo ‚ñ∂</button>
            </div>
        </div>
    </div>

    <div id="tab-receitas" class="tab-content">
        <div class="card">
            <h2>Montar Receita</h2>
            <div class="form-row">
                <div style="flex: 2;">
                    <label>Selecione o Insumo</label>
                    <select id="rec-drop" onchange="updateRecipeUnit()"></select>
                </div>
                <div style="flex: 1;">
                    <label>Quantidade Usada (<span id="unit-label">---</span>)</label>
                    <input type="number" id="rec-qtd-usada" placeholder="0">
                </div>
                <div style="flex: 0.5;">
                    <button class="btn-add" style="background: var(--dark);" onclick="addToRecipe()">+ ADD</button>
                </div>
            </div>
            <table>
                <thead><tr><th>Item</th><th>Uso</th><th>Custo</th><th></th></tr></thead>
                <tbody id="rec-list"></tbody>
            </table>
            <div class="total-box">Custo Total da Receita: <b id="rec-total">R$ 0,00</b></div>
            <button onclick="clearRecipe()" style="background:none; color: #999; margin-top:15px; font-size:0.8rem; cursor:pointer;">LIMPAR RECEITA</button>
        </div>
    </div>
</div>

<script>
    // LISTA COMPLETA DOS SEUS 53 ITENS
    const defaultData = [{"nome":"A√ß√∫car Cristal","preco":5.49,"peso":1,"unid":"Kg"},{"nome":"A√ß√∫car Refinado","preco":4.99,"peso":1,"unid":"Kg"},{"nome":"Canela em p√≥","preco":4.99,"peso":30,"unid":"g"},{"nome":"Chocolate ao leite Sicao","preco":164.99,"peso":2.005,"unid":"Kg"},{"nome":"Chocolate Branco Sicao","preco":209.99,"peso":2.005,"unid":"Kg"},{"nome":"Creme de Leite","preco":4.19,"peso":200,"unid":"g"},{"nome":"Doce de Leite Frimesa","preco":10.89,"peso":400,"unid":"g"},{"nome":"Farinha de Trigo","preco":6.99,"peso":1,"unid":"Kg"},{"nome":"Fermento em p√≥","preco":4.99,"peso":100,"unid":"g"},{"nome":"Forminha n5","preco":3.99,"peso":100,"unid":"un"},{"nome":"Nesquick","preco":22.99,"peso":380,"unid":"g"},{"nome":"Leite condensado","preco":9.99,"peso":
